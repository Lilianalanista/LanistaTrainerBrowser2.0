{
    "type": "Ext.app.Application",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "controllers": [
            "MainController",
            "LoginController",
            "ExercisesController",
            "TemplatesController",
            "RegistrationController",
            "LanguagesController",
            "AutheticationController",
            "StopWatchController",
            "ToolsController",
            "HelpController",
            "DashBoardController",
            "CustomersController",
            "UserInfoController",
            "ImageController",
            "CustomerInfoController",
            "CustomerExercisesController",
            "ExerciseController",
            "PlanController"
        ],
        "models": [
            "ExerciseModel",
            "Customer",
            "Protocoll",
            "PlanExercise",
            "Plan"
        ],
        "name": "LanistaTrainer",
        "panels": [
            "[]"
        ],
        "requires": [
            "Ext.ux.LanguageManager",
            "Ext.ux.SessionManager",
            "Ext.ux.ConfigManager",
            "Ext.ux.PreviewPlugin"
        ],
        "stores": [
            "ExerciseInitialStore",
            "ExerciseStore",
            "CustomerStore",
            "ProtocollStore",
            "PlanExerciseStore",
            "PlanStore"
        ],
        "views": [
            "MainViewport",
            "ExercisesPanel",
            "LanistaButton",
            "rightView",
            "LoginPanel",
            "TemplatesPanel",
            "RegistrationPanel",
            "StopWatch",
            "HelpPanel",
            "DashBoardPanel",
            "UserInfoPanel",
            "CustomersPanel",
            "ImagePanel",
            "CustomerInfoPanel",
            "CustomerExercisesPanel",
            "Temporal",
            "ExercisePanel",
            "WeightPicker",
            "TrainingPicker",
            "PlanExercisesList",
            "PlanPanel",
            "PlanOptionsPanel",
            "VideoWindow"
        ]
    },
    "configAlternates": {
        "panels": "array",
        "currentCustomer": "object"
    },
    "designerId": "application",
    "customConfigs": [
        {
            "group": "(Custom Properties)",
            "name": "panels",
            "type": "string"
        },
        {
            "group": "(Custom Properties)",
            "name": "currentCustomer",
            "type": "string"
        }
    ],
    "cn": [
        {
            "type": "fixedfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "launch",
                "implHandler": [
                    "console.log(\"START\");",
                    "",
                    "LanistaTrainer.app.fireEvent('loadExercises', function() {",
                    "    console.log(\"EXERCISES LOADED\");",
                    "",
                    "    Ext.ux.SessionManager.loadLastUser();",
                    "    if ( !Ext.ux.SessionManager.getIsLoggedIn() )",
                    "        LanistaTrainer.app.fireEvent('showLoginPanel');",
                    "    else",
                    "    {",
                    "        var user = Ext.ux.SessionManager.getUser(),",
                    "        url = 'ext/locale/ext-lang-' + user.language.toLowerCase() + '.js';",
                    "",
                    "        if (user.language != Ext.ux.LanguageManager.lang)",
                    "            LanistaTrainer.app.fireEvent('changeLanguage', user.language, false);",
                    "",
                    "        Ext.Ajax.request({",
                    "            url: url,",
                    "            success: function(response) {",
                    "                eval(response.responseText);",
                    "                console.log(\"Language was changed\");",
                    "                },",
                    "            failure: function(response) {",
                    "                    console.log(\"Language couldn't be changed\");",
                    "                },",
                    "                scope: this",
                    "        });",
                    "        LanistaTrainer.app.setProxies();",
                    "        LanistaTrainer.app.fireEvent('showDashboardPanel');",
                    "    }",
                    "});"
                ]
            },
            "designerId": "540e0df4-6911-4642-bb43-5792b95099a5",
            "customConfigs": [
                {
                    "group": "(Custom Properties)",
                    "name": "exercises",
                    "type": "string"
                }
            ]
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "backBotonId"
                ],
                "fn": "setStandardButtons",
                "implHandler": [
                    "var LeftPanel = Ext.ComponentQuery.query(\"viewport\")[0].down(\"#leftCommandPanel\");",
                    "",
                    "LeftPanel.items.each(function (item) {",
                    "    item.hide();",
                    "});",
                    "",
                    "",
                    "if ( !Ext.isEmpty(backBotonId) )",
                    "{\tLeftPanel.add(",
                    "        Ext.create('LanistaTrainer.view.LanistaButton', {",
                    "            text: Ext.ux.LanguageManager.TranslationArray.CLOSE,",
                    "            itemId: backBotonId,",
                    "            glyph: '98@Lanista Icons', //b",
                    "            cls: [",
                    "            'lanista-command-button',",
                    "            'lanista-command-button-red'",
                    "            ]",
                    "        })",
                    "    );",
                    "}",
                    "",
                    "",
                    "tools = new Ext.menu.Menu(",
                    "{",
                    "    defaults: {",
                    "        height: '50px',",
                    "        width: '220px'",
                    "    },",
                    "    items:",
                    "    [",
                    "        {text:   Ext.ux.LanguageManager.TranslationArray.MUSCLES,",
                    "                 handler: function () {",
                    "                     LanistaTrainer.app.fireEvent('showTools', 'MUSCLES');",
                    "                 }",
                    "        },",
                    "        {text:\t Ext.ux.LanguageManager.TranslationArray.SKELETON,",
                    "                 handler: function () {",
                    "                     LanistaTrainer.app.fireEvent('showTools', 'SKELETON');",
                    "                 }",
                    "        },",
                    "        {text:   Ext.ux.LanguageManager.TranslationArray.STOP_WATCH,",
                    "                 handler: function () {",
                    "                     LanistaTrainer.app.fireEvent('showTools', 'STOP_WATCH');",
                    "                 }",
                    "        }",
                    "    ]",
                    "});",
                    "LeftPanel.add(",
                    "    Ext.create('LanistaTrainer.view.LanistaButton', {",
                    "        text: Ext.ux.LanguageManager.TranslationArray.TOOLS,",
                    "        itemId: 'toolsButton',",
                    "        menu: tools,",
                    "        menuButtonAlign: 'left',",
                    "        glyph: '102@Lanista Icons', //f",
                    "        cls: [",
                    "            'lanista-command-button',",
                    "            'lanista-command-button-violet'",
                    "        ]",
                    "    })",
                    ");",
                    "",
                    "",
                    "LeftPanel.add(",
                    "    Ext.create('LanistaTrainer.view.LanistaButton', {",
                    "        text: Ext.ux.LanguageManager.TranslationArray.BUTTON_HELP,",
                    "        itemId: 'helpButton',",
                    "        glyph: '104@Lanista Icons', //h",
                    "        cls: [",
                    "            'lanista-command-button',",
                    "            'lanista-command-button-violet'",
                    "        ]",
                    "    })",
                    ");",
                    "",
                    ""
                ]
            },
            "designerId": "68a9a979-8c81-47ec-990d-290a250418c3"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "setProxies",
                "implHandler": [
                    "console.log('Setting Proxys....');",
                    "",
                    "var userId = localStorage.getItem(\"user_id\");",
                    "if (userId)",
                    "{",
                    "    Ext.getStore('CustomerStore').setProxy(new Ext.data.proxy.Ajax({",
                    "        url: Ext.ux.ConfigManager.getRoot() + '/tpmanager/user/json',",
                    "        model: 'Customer',",
                    "        noCache: false,",
                    "        reader: {",
                    "            type: 'json',",
                    "            root: 'entries'",
                    "        },",
                    "        headers: {",
                    "            user_id: userId",
                    "        }",
                    "    }));",
                    "",
                    "    Ext.getStore('ProtocollStore').setProxy(new Ext.data.proxy.Ajax({",
                    "        url: Ext.ux.ConfigManager.getRoot() + '/tpmanager/exerciseprotocoll/json',",
                    "        model: 'Protocoll',",
                    "        noCache: false,",
                    "        reader: {",
                    "            type: 'json',",
                    "            root: 'entries'",
                    "        },",
                    "        writer: {",
                    "            type: 'json',",
                    "            root: 'results'",
                    "        },",
                    "        headers: {",
                    "            user_id: userId",
                    "        }",
                    "    }));",
                    "",
                    "    Ext.getStore('PlanStore').setProxy(new Ext.data.proxy.Ajax({",
                    "        url: Ext.ux.ConfigManager.getRoot() + '/tpmanager/plan/json',",
                    "        model: 'Plan',",
                    "        noCache: false,",
                    "        reader: {",
                    "            type: 'json',",
                    "            root: 'entries'",
                    "        },",
                    "        writer: {",
                    "            type: 'json',",
                    "            root: 'results'",
                    "        },",
                    "        headers: {",
                    "            user_id: userId",
                    "        }",
                    "    }));",
                    "}",
                    ""
                ]
            },
            "designerId": "4b0733de-d84b-4332-ace2-3d8a17523dde"
        }
    ]
}