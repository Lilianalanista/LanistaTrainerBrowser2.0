{
    "type": "Ext.window.Window",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "bodyPadding": 10,
        "designer|userAlias": "weightsWindow",
        "designer|userClassName": "WeightsWindow",
        "expandOnShow": false,
        "height": 250,
        "id": "weightsWindow",
        "modal": true,
        "resizable": false,
        "title": null,
        "width": 520
    },
    "configAlternates": {
        "resizable": "boolean"
    },
    "designerId": "e3253e1b-0104-4f87-b2fb-3834c1c1ead7",
    "cn": [
        {
            "type": "Ext.form.FieldSet",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "id": "weightKilos",
                "title": "My Fields"
            },
            "designerId": "32ff0edd-1772-4d21-8fe7-46e77666eb43",
            "cn": [
                {
                    "type": "Ext.form.field.Number",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "allowExponential": false,
                        "autoStripChars": true,
                        "cls": "lanista-weights-input",
                        "decimalSeparator": ",",
                        "enableKeyEvents": true,
                        "fieldLabel": null,
                        "id": "protocollKgValue",
                        "selectOnFocus": true
                    },
                    "designerId": "1890491a-33d9-4f4d-9784-f5eb4128a64e"
                }
            ]
        },
        {
            "type": "Ext.form.FieldSet",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "id": "weightMeasure",
                "title": "My Fields"
            },
            "designerId": "8abb716c-0a03-48db-bff1-84e24b90bd23",
            "cn": [
                {
                    "type": "Ext.form.field.Number",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "allowDecimals": false,
                        "allowExponential": false,
                        "autoStripChars": true,
                        "cls": "lanista-weights-input",
                        "decimalSeparator": ",",
                        "enableKeyEvents": true,
                        "fieldLabel": null,
                        "id": "protocollTrainingValue",
                        "width": null
                    },
                    "designerId": "ee3f5893-159e-4ac0-b980-542517f96aa4"
                },
                {
                    "type": "Ext.form.RadioGroup",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "cls": "lanista-weights-rb",
                        "container|align": "stretch",
                        "fieldLabel": null,
                        "height": 85,
                        "id": "radioWeight",
                        "layout": "vbox",
                        "width": 150
                    },
                    "designerId": "799f88c3-00a2-4cd5-ba24-11dbddb40ebb",
                    "cn": [
                        {
                            "type": "Ext.form.field.Radio",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "boxLabel": "Rep.",
                                "cls": "lanista-weights-echrb",
                                "fieldLabel": null,
                                "height": 25,
                                "id": "rb_Rep",
                                "inputValue": "0",
                                "name": "rb"
                            },
                            "designerId": "735d434b-0317-4a2b-b5ba-db899b8b08e9"
                        },
                        {
                            "type": "Ext.form.field.Radio",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "boxLabel": "Min.",
                                "cls": "lanista-weights-echrb",
                                "fieldLabel": null,
                                "height": 25,
                                "id": "rb_Min",
                                "inputValue": "2",
                                "name": "rb"
                            },
                            "designerId": "95f56daa-02b4-4ac0-b2cb-13ca6f238e3c"
                        },
                        {
                            "type": "Ext.form.field.Radio",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "boxLabel": "Sec.",
                                "cls": "lanista-weights-echrb",
                                "fieldLabel": null,
                                "height": 25,
                                "id": "rb_Sec",
                                "inputValue": "1",
                                "name": "rb"
                            },
                            "designerId": "694fe841-2374-499e-ba67-2c3d55dfe7a6"
                        }
                    ]
                }
            ]
        },
        {
            "type": "basiceventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onWeightsWindowAfterRender",
                "implHandler": [
                    "",
                    "this.down ( '#weightBottons' ).add(  Ext.create('LanistaTrainer.view.LanistaButton', {",
                    "            itemId: 'saveProtocollButton',",
                    "            glyph: '65@Lanista Icons', //A",
                    "            cls: [",
                    "                'lanista-command-button',",
                    "                'lanista-command-button-green',",
                    "                'lanista-saveProtocollButton'",
                    "            ],",
                    "            listeners: {",
                    "                click: {",
                    "                    scope: this,",
                    "                    fn: function(){",
                    "                        var panelWeight,",
                    "                            panelTraining = Ext.ComponentQuery.query(\"viewport\")[0].down(\"#trainingPicker\"),",
                    "                            infoProtocoll = [],",
                    "                            valueWeight,",
                    "                            setObjectLanista;",
                    "",
                    "                        if (LanistaTrainer.app.panels[LanistaTrainer.app.panels.length - 1] === 'ExercisePanel'){",
                    "                            infoProtocoll[0] = component.down('#protocollKgValue').getValue();",
                    "                            infoProtocoll[1] = component.down('#protocollTrainingValue').getValue();",
                    "                            infoProtocoll[2] = parseInt(component.down('#radioWeight').getValue().rb);",
                    "                            ",
                    "                            LanistaTrainer.app.fireEvent('planExerciseRecordChanged', ",
                    "                                                         infoProtocoll,",
                    "                                                         component.down('#exerciseIndications').getValue(),",
                    "                                                         component.down('#exerciseSets').getValue());",
                    "                        }",
                    "",
                    "                        if (LanistaTrainer.app.panels[LanistaTrainer.app.panels.length - 1] === 'PlanPanel'){",
                    "                            panelWeight = Ext.ComponentQuery.query(\"viewport\")[0].down(\"#weightPicker\");",
                    "                            valueWeight = panelWeight ? panelWeight.getValue() : 0;",
                    "                            valueWeight = valueWeight !== 0 ? parseFloat(valueWeight.substring(0, valueWeight.indexOf(' ')).replace(\",\", \".\")) : 0;",
                    "                            infoProtocoll[0] = valueWeight;",
                    "                            infoProtocoll[1] = panelTraining.getValue();",
                    "                            infoProtocoll[2] = panelTraining.unit;",
                    "                            LanistaTrainer.app.fireEvent('planExerciseRecordChanged', infoProtocoll,'','');",
                    "                        }",
                    "",
                    "                        if (LanistaTrainer.app.panels[LanistaTrainer.app.panels.length - 1] === 'DefaultPlanValuesPanel'){",
                    "                            setObjectLanista = Ext.ComponentQuery.query(\"viewport\")[0].down(\"#setObjectLanista\");",
                    "                            infoProtocoll[0] = setObjectLanista.getValue();",
                    "                            infoProtocoll[1] = panelTraining.getValue();",
                    "                            infoProtocoll[2] = panelTraining.unit;",
                    "                            LanistaTrainer.app.fireEvent('defaultValuesChanged', infoProtocoll,'','');",
                    "                        }",
                    "",
                    "                        component.close();",
                    "                    }",
                    "                }",
                    "            }",
                    "        })",
                    ");",
                    "",
                    "",
                    "if (LanistaTrainer.app.panels[LanistaTrainer.app.panels.length - 1] !== 'DefaultPlanValuesPanel'){",
                    "    this.down ( '#weightBottons' ).add(  Ext.create('LanistaTrainer.view.LanistaButton', {",
                    "                itemId: 'closeProtocollButton',",
                    "                glyph: '117@Lanista Icons', //u",
                    "                cls: [",
                    "                    'lanista-command-button',",
                    "                    'lanista-command-button-red',",
                    "                    'lanista-closeProtocollButton'",
                    "                ],",
                    "                listeners: {",
                    "                    click: {",
                    "                        scope: this,",
                    "                        fn: function(){",
                    "                            component.close();",
                    "                        }",
                    "                    }",
                    "                }",
                    "            })",
                    "    );",
                    "}",
                    "",
                    ""
                ],
                "name": "afterrender",
                "scope": "me"
            },
            "designerId": "79c99bc6-a82b-4564-adc0-054c888596f0"
        },
        {
            "type": "Ext.form.FieldSet",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "hidden": true,
                "id": "weightIndications",
                "title": "My Fields"
            },
            "designerId": "bc731efe-1b9a-49b0-8490-f42e0dc1ffaf",
            "cn": [
                {
                    "type": "Ext.form.field.TextArea",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": null,
                        "hidden": true,
                        "id": "exerciseIndications",
                        "layout|anchor": "100%"
                    },
                    "designerId": "e938943e-20f5-4601-b607-9c2bf94b9b55"
                }
            ]
        },
        {
            "type": "Ext.form.FieldSet",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "hidden": true,
                "id": "weightSets",
                "title": "My Fields"
            },
            "designerId": "1b5abaff-287c-4d3e-af3e-14d7cf7f8da5",
            "cn": [
                {
                    "type": "Ext.form.field.Number",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "allowDecimals": false,
                        "allowExponential": false,
                        "autoStripChars": true,
                        "fieldLabel": null,
                        "hidden": true,
                        "id": "exerciseSets",
                        "layout|anchor": "100%"
                    },
                    "designerId": "884ea208-fa92-4ebf-aa7b-e62b7ced00e0"
                }
            ]
        },
        {
            "type": "Ext.form.FieldSet",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "id": "weightBottons",
                "title": null
            },
            "designerId": "809e9b5b-586e-4638-9247-bc5d32a144a1"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "d"
                ],
                "fn": "funcMask",
                "implHandler": [
                    "var pat = new Array(2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3),",
                    "    val2 = (d.getValue()+'').replace(\".\", \",\"),",
                    "    decimalSeparator = ',';",
                    "",
                    "if (val2.indexOf(decimalSeparator) == -1) val2 += this.decimalSeparator + '00';",
                    "for(var z=0; z<val2.length; z++){",
                    "    if(isNaN(val2.charAt(z)) || val2.charAt(z) == \".\" || val2.charAt(z) == \",\"){",
                    "        if (val2.charAt(z) == \".\") {",
                    "            val2 = val2.replace(/\\./g, '');",
                    "        }",
                    "        else{",
                    "            letra = new RegExp(val2.charAt(z),\"g\");",
                    "            val2 = val2.replace(letra,\"\");",
                    "        }",
                    "    }",
                    "}",
                    "val = '';",
                    "val4 = 0;",
                    "val3 = new Array();",
                    "for(var s=0; s<pat.length; s++) {",
                    "    val4 = parseInt(val2.length) - parseInt(pat[s]);",
                    "    if (val4<0) {",
                    "        val3[s] = val2;",
                    "    } else {",
                    "        val3[s] = val2.substr(val4,pat[s]);",
                    "    }",
                    "    if(s ==0){",
                    "        valx = val3[s];",
                    "    } else{",
                    "        if(s ==1){",
                    "            valx = val3[s] + \",\" + valx;",
                    "        } else {",
                    "            if(val3[s] != \"\") {",
                    "                valx = val3[s] + \".\" + valx;",
                    "            }",
                    "        }",
                    "    }",
                    "    val2 = val2.substr(0, val4);",
                    "}",
                    "d.setValue(valx.replace(/^0+(?!\\,|$)/, ''));"
                ]
            },
            "designerId": "901c3aed-81c6-4595-b0bf-2469d71166bb"
        }
    ]
}