{
    "type": "Ext.form.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "autoScroll": true,
        "bodyPadding": 10,
        "cls": "lanista-myexercise-panel",
        "designer|userAlias": "myExerciseInfoPanel",
        "designer|userClassName": "MyExerciseInfoPanel",
        "header": false,
        "height": 694,
        "id": "myExerciseInfoPanel",
        "title": null,
        "width": 400
    },
    "designerId": "b657ef40-c231-4656-b95a-80ae98360fcf",
    "cn": [
        {
            "type": "Ext.form.FieldSet",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "border": null,
                "cls": "lanista-myexercise-configuration",
                "defaultAlign": "c-c",
                "id": "myExercise_configuration",
                "title": null
            },
            "designerId": "364d0cfa-6022-457e-a7a3-a162ad607afd",
            "cn": [
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "editable": false,
                        "enableKeyEvents": true,
                        "fieldLabel": null,
                        "id": "myExercise_language",
                        "layout|anchor": "100%",
                        "name": "myExercise_language"
                    },
                    "designerId": "f6cefdee-41cc-45df-aba6-0b1e431345f7",
                    "cn": [
                        {
                            "type": "processcfgfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|params": [
                                    "config"
                                ],
                                "fn": "processMyExercise_language",
                                "implHandler": [
                                    "var server =\t'http://' + window.location.host,",
                                    "    root =\t\tExt.ux.ConfigManager.getRoot() + '/LanistaTrainerBrowser2.0/';",
                                    "",
                                    "config.tpl = Ext.create(\"Ext.XTemplate\",",
                                    "                        '<tpl for=\".\"><div class=\"x-boundlist-item\"><img src=' + server + root + 'resources/images/flags/{image} /> {LanguageName}</div></tpl>');",
                                    "",
                                    "config.displayTpl = Ext.create(\"Ext.XTemplate\",",
                                    "                               '<tpl for=\".\">{LanguageName}</tpl>');",
                                    "",
                                    "config.valueField = 'IdLanguage';",
                                    "",
                                    "return config;",
                                    ""
                                ]
                            },
                            "designerId": "b53be2d1-a405-4c7c-a396-da380fab8626"
                        },
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onMyExercise_languageChange",
                                "implHandler": [
                                    "LanistaTrainer.app.getController ('MyExerciseInfoController').loadData();"
                                ],
                                "name": "change",
                                "scope": "me"
                            },
                            "designerId": "84646457-6678-420a-9e8d-4c6c71482bb3"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "cls": "lanista-field-myexercise",
                        "fieldLabel": null,
                        "hideEmptyLabel": false,
                        "id": "myExercise_name",
                        "labelCls": "lanista-myexercise-item-label",
                        "layout|anchor": "100%",
                        "name": "myExercise_name"
                    },
                    "designerId": "f32f6d09-8cca-49dc-b399-3cd8fd391a0a"
                },
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "cls": "lanista-field-myexercise",
                        "fieldLabel": null,
                        "id": "myExercise_execution",
                        "labelCls": "lanista-myexercise-item-label",
                        "layout|anchor": "100%",
                        "name": "myExercise_execution"
                    },
                    "designerId": "129c62e9-1cbc-4517-967d-d41d39b847e7"
                },
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "cls": "lanista-field-myexercise lanista-field-myexercise-errors",
                        "fieldLabel": null,
                        "id": "myExercise_errors",
                        "labelCls": "lanista-myexercise-item-label",
                        "layout|anchor": "100%",
                        "name": "myExercise_errors"
                    },
                    "designerId": "7e20a53c-f6b4-40e1-ad0d-e5e3880ce33a"
                }
            ]
        },
        {
            "type": "Ext.form.field.ComboBox",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "cls": "lanista-field-myexercise",
                "fieldLabel": null,
                "id": "myExercise_muscle",
                "labelCls": "lanista-myexercise-item-label",
                "layout|anchor": "100%",
                "name": "muscle"
            },
            "designerId": "86e5d20b-c0d6-482d-864f-2877802eabad"
        },
        {
            "type": "Ext.form.field.ComboBox",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "cls": "lanista-field-myexercise",
                "fieldLabel": null,
                "id": "myExercise_exerciseType",
                "labelCls": "lanista-myexercise-item-label",
                "layout|anchor": "100%",
                "name": "type"
            },
            "designerId": "247ddc24-1723-458a-b097-d43954c6d59d"
        },
        {
            "type": "Ext.form.field.ComboBox",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "cls": "lanista-field-myexercise lanista-field-myexercise-other",
                "fieldLabel": null,
                "id": "myExercise_other",
                "labelCls": "lanista-myexercise-item-label",
                "layout|anchor": "100%",
                "name": "addition"
            },
            "designerId": "b4bb8544-edae-4619-881d-9ee7197d3056"
        },
        {
            "type": "Ext.container.Container",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "cls": "lanista-myExercise-images",
                "container|align": "stretch",
                "container|pack": "end",
                "dock": null,
                "height": 200,
                "id": "myExercise_images",
                "layout": "hbox"
            },
            "designerId": "7fce3b01-3f18-424f-bf1f-6ee5cb43fc11",
            "cn": [
                {
                    "type": "Ext.XTemplate",
                    "reference": {
                        "name": "tpl",
                        "type": "object"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|displayName": "tpl",
                        "implHandler": [
                            "<div class=\"lanista-customer-myexercise\">",
                            "    <div class=\"lanista-customer-myexercise-image-title\">",
                            "        <div class=\"lanista-customer-myexercise-image-title-left\">{[Ext.ux.LanguageManager.TranslationArray.START_POSITION_MYEXERCISE]}</div>",
                            "        <div class=\"lanista-customer-myexercise-image-title-right\">{[Ext.ux.LanguageManager.TranslationArray.END_POSITION_MYEXERCISE]}</div>",
                            "    </div>",
                            "    <div>",
                            "        <div id=\"lanista-customer-myexercise-image-2\" class=\"lanista-customer-myexercise-img customer-exercise-img-right\" style=\"background-image: url({[Ext.ux.ConfigManager.getServer() + Ext.ux.ConfigManager.getRoot() + \"/tpmanager/img/b/\" + values.id]}_1.jpg);\"></div>",
                            "        <div id=\"lanista-customer-myexercise-image-1\" class=\"lanista-customer-myexercise-img customer-exercise-img-left\" style=\"background-image:  url({[Ext.ux.ConfigManager.getServer() + Ext.ux.ConfigManager.getRoot() + \"/tpmanager/img/b/\" + values.id]}_2.jpg);\"></div>",
                            "    </div>",
                            "</div>"
                        ]
                    },
                    "designerId": "3aa1a935-3ddf-437d-8de4-8b68c05acc54"
                },
                {
                    "type": "basiceventbinding",
                    "reference": {
                        "name": "listeners",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fn": "onMyExercise_imagesAfterRender",
                        "implHandler": [
                            "var el = component.el,",
                            "    server = Ext.ux.ConfigManager.getServer(),",
                            "    root = Ext.ux.ConfigManager.getRoot(),",
                            "    myExercise = LanistaTrainer.app.getController ( 'MyExerciseInfoController' ).myexercise;",
                            "",
                            "////////////////////////////////////////////////////////////////////",
                            "// Right Photo",
                            "////////////////////////////////////////////////////////////////////",
                            "el.on('click',function(e,t) {",
                            "    idImage = localStorage.getItem(\"user_id\");",
                            "    el.addCls('item-not-clicked');",
                            "    var image = Ext.create('Ext.Img', {",
                            "        src: server + root + '/tpmanager/img/b/'+ myExercise.data.ext_id + '_1.jpg',",
                            "        renderTo: Ext.getBody(),",
                            "        hidden: true,",
                            "        width: 0,",
                            "        height: 0",
                            "    });",
                            "    var lastPanel = LanistaTrainer.app.panels[LanistaTrainer.app.panels.length - 1];",
                            "    LanistaTrainer.app.panels[LanistaTrainer.app.panels.length] = 'ImagePanel';",
                            "    LanistaTrainer.app.fireEvent('showImagePanel', image, lastPanel, server + root + '/tpmanager/exercise/uploadphoto',",
                            "                                 {type: 'photo', ",
                            "                                  customer_id: localStorage.getItem(\"user_id\"), ",
                            "                                  exercise_id: myExercise.data.id,",
                            "                                  order: 1},",
                            "                                 function() {});",
                            "},this,{delegate: '.customer-exercise-img-right'});",
                            "",
                            "el.on(",
                            "    'mouseover', function(e,t) {",
                            "        el.removeCls('item-not-clicked');",
                            "        el.addCls('item-clicked');",
                            "",
                            "    },",
                            "    this,{ delegate: '.customer-exercise-img-right'});",
                            "el.on(",
                            "    'mouseout', function(e,t) {",
                            "        el.removeCls('item-clicked');",
                            "        el.addCls('item-not-clicked');",
                            "    },",
                            "    this,{delegate: '.customer-exercise-img-right'});",
                            "",
                            "",
                            "////////////////////////////////////////////////////////////////////",
                            "// Left Photo",
                            "////////////////////////////////////////////////////////////////////",
                            "el.on('click',function(e,t) {",
                            "    idImage = localStorage.getItem(\"user_id\");",
                            "    el.addCls('item-not-clicked');",
                            "    var image = Ext.create('Ext.Img', {",
                            "        src: server + root + '/tpmanager/img/b/'+ myExercise.data.ext_id + '_2.jpg',",
                            "        renderTo: Ext.getBody(),",
                            "        hidden: true,",
                            "        width: 0,",
                            "        height: 0",
                            "    });",
                            "    var lastPanel = LanistaTrainer.app.panels[LanistaTrainer.app.panels.length - 1];",
                            "    LanistaTrainer.app.panels[LanistaTrainer.app.panels.length] = 'ImagePanel';",
                            "    LanistaTrainer.app.fireEvent('showImagePanel', image, lastPanel, server + root + '/tpmanager/exercise/uploadphoto',",
                            "                                 {type: 'photo', ",
                            "                                  customer_id: localStorage.getItem(\"user_id\"),",
                            "                                  exercise_id: myExercise.data.id,",
                            "                                  order: 2},",
                            "                                 function() {});",
                            "},this,{delegate: '.customer-exercise-img-left'});",
                            "",
                            "el.on(",
                            "    'mouseover', function(e,t) {",
                            "        el.removeCls('item-not-clicked');",
                            "        el.addCls('item-clicked');",
                            "     },",
                            "    this,{ delegate: '.customer-exercise-img-left'});",
                            "el.on(",
                            "    'mouseout', function(e,t) {",
                            "        el.removeCls('item-clicked');",
                            "        el.addCls('item-not-clicked');",
                            "    },",
                            "    this,{delegate: '.customer-exercise-img-left'});"
                        ],
                        "name": "afterrender",
                        "scope": "me"
                    },
                    "designerId": "0db1502b-339e-4af8-b258-5a48afac040d"
                }
            ]
        },
        {
            "type": "basiceventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onMyExerciseInfoPanelAfterRender",
                "implHandler": [
                    "var languagesStore = Ext.create('Ext.data.Store', {",
                    "                        fields: ['image', 'LanguageName', 'IdLanguage'],",
                    "                        data : [",
                    "                            {\"image\": \"es.png\", \"LanguageName\":\"Español\", \"IdLanguage\":\"ES\"},",
                    "                            {\"image\": \"de.png\", \"LanguageName\":\"Deutsch\", \"IdLanguage\":\"DE\"},",
                    "                            {\"image\": \"gb.png\", \"LanguageName\":\"English\", \"IdLanguage\":\"EN\"}",
                    "                        ]",
                    "                    }),",
                    "    fields = component.getForm().getFields(),",
                    "    record,",
                    "    myExercise = LanistaTrainer.app.getController ( 'MyExerciseInfoController' ).myexercise;",
                    "",
                    "fields.getByKey('myExercise_language').bindStore(languagesStore);",
                    "languagesStore.load();",
                    "",
                    "fields.getByKey('myExercise_language').setValue(Ext.ux.LanguageManager.lang);",
                    "fields.getByKey('myExercise_muscle').setFieldLabel(Ext.ux.LanguageManager.TranslationArray.FILTER_MUSCLES);",
                    "fields.getByKey('myExercise_exerciseType').setFieldLabel(Ext.ux.LanguageManager.TranslationArray.FILTER_TYPE);",
                    "fields.getByKey('myExercise_other').setFieldLabel(Ext.ux.LanguageManager.TranslationArray.FILTER_ADDITIVES);",
                    "",
                    "record = [{id: myExercise.data.ext_id}];",
                    "component.getComponent('myExercise_images').update(record[0]);",
                    "",
                    "document.getElementsByName(\"myExercise_name\")[0].placeholder = Ext.ux.LanguageManager.TranslationArray.FORM_CUSTOMER_DATA_EMAIL;",
                    "",
                    "if (myExercise)",
                    "{",
                    "    component.getForm().setValues(",
                    "        {",
                    "            muscle:\t\t\t\t\tmyExercise.data.muscle,",
                    "            addition:\t\t\t\tmyExercise.data.addition,",
                    "            type:\t\t\t\t\tmyExercise.data.type,",
                    "            id:\t\t\t\t\t\tmyExercise.data.id",
                    "        }",
                    "    );",
                    "}",
                    "",
                    "fields.each(function(field)",
                    "            {field.on('change',function(f,n,o)",
                    "                      {",
                    "                          //f: field;  n: new value;  o: old value",
                    "                          LanistaTrainer.app.fireEvent('showSavePanel', 'saveSettingsButton', 'cancelSettingsButton');",
                    "                      }",
                    "                     );",
                    "             field.on('keypress',function(f,e,opts)",
                    "                      {",
                    "                          //f: field;  e: key pressed;  o: options",
                    "                          if(e.getKey() == e.ENTER){",
                    "                              if ( !Ext.getCmp('rightCommandPanel').down('#saveSettingsButton').hidden )",
                    "                                  Ext.getCmp('rightCommandPanel').down('#saveSettingsButton').fireEvent('click', function() {",
                    "                                      f.focus();",
                    "                                  });",
                    "                          }",
                    "                      }",
                    "                     );",
                    "            }",
                    "           );",
                    "",
                    "",
                    ""
                ],
                "name": "afterrender",
                "scope": "me"
            },
            "designerId": "f07c347a-840d-44e0-b3b0-d4353daa7f69"
        }
    ]
}