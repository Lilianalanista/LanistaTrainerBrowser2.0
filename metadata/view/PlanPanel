{
    "type": "Ext.panel.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "cls": "lanista-plan-panel",
        "container|align": "stretch",
        "designer|userAlias": "planPanel",
        "designer|userClassName": "PlanPanel",
        "height": 250,
        "id": "planPanel",
        "layout": "vbox",
        "requires": [
            "LanistaTrainer.view.PlanExercisesList"
        ],
        "title": null,
        "width": 400
    },
    "designerId": "a0646267-15df-4b81-8420-1c61b5811101",
    "cn": [
        {
            "type": "processcfgfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "config"
                ],
                "fn": "processPlanPanel",
                "implHandler": [
                    "config.items = [",
                    "    {",
                    "        xtype: 'component',",
                    "        flex: 1,",
                    "        itemId: 'planHeader',",
                    "        cls: 'lanista-headerplan-panel',",
                    "        maxHeight: 100,",
                    "        tpl: [",
                    "            '<div class=\"plan-header-description\" id=\"planHeaderDescription\">{description}</div>',",
                    "            '<div class=\"plan-header-info\">',",
                    "            '   <div class=\"plan-header-attribute\">{[Ext.ux.LanguageManager.TranslationArray.CREATED_AT]}:</div><div class=\"plan-header-value\">{[Ext.Date.format ( values.creation_date, \\'d, M Y\\' )]}</div>',",
                    "            '   <div class=\"plan-header-attribute\">{[Ext.ux.LanguageManager.TranslationArray.PLAN_FROM_TRAINER ]}:</div><div class=\"plan-header-value\">{creator_name}</div>',",
                    "            '\t<div class=\"dashboard-customer-background\" style=\"customer-image\">a</div>',",
                    "            '\t<div class=\"plan-header-customer-info\" style=\"background-image: url({[ Ext.ux.ConfigManager.getServer() + Ext.ux.ConfigManager.getRoot() + \"/tpmanager/img/p/\" + values.trainer_id + \"_photo.jpg\"]});\"></div>',",
                    "            '</div>'",
                    "        ]",
                    "    },",
                    "    {",
                    "        xtype: 'tabpanel',",
                    "        flex: 1,",
                    "        cls: 'lanista-exercices-panel',",
                    "        itemId: 'exercicesPanel',",
                    "        plain: true,",
                    "        items: [",
                    "            {",
                    "                xtype: 'planExercisesList',",
                    "                id: 'd1',",
                    "                title: Ext.ux.LanguageManager.TranslationArray.DAY + ' 1'",
                    "            },",
                    "            {",
                    "                xtype: 'container',",
                    "                title: '+',",
                    "                itemId: 'plus'",
                    "            }",
                    "        ],",
                    "        listeners: {",
                    "                tabchange: {",
                    "                    fn: function(tabPanel, newCard, oldCard, eOpts){",
                    "                            var tapPanelSize = tabPanel.items.getCount(),",
                    "                                controller = LanistaTrainer.app.getController ('PlanController');",
                    "                                if (tabPanel.activeTab.title === '+') {",
                    "                                    if ( tapPanelSize  < 9 ) {",
                    "                                        tabPanel.insert( tapPanelSize -1 , {",
                    "                                            xtype: 'planExercisesList',",
                    "                                            id: 'd'+(tapPanelSize),",
                    "                                            title: Ext.ux.LanguageManager.TranslationArray.DAY + ' ' + (tapPanelSize),",
                    "                                            store: controller.plan.planexercises()",
                    "                                        });",
                    "                                        tabPanel.setActiveTab(tabPanel.items.items[tapPanelSize -1]);",
                    "                                        tabPanel.getActiveTab().getEl().setHeight(tabPanel.getActiveTab().el.dom.clientHeight - 45);",
                    "                                    }",
                    "                                }",
                    "                                else{",
                    "                                    tabPanel.setActiveTab(newCard);",
                    "                                    tabPanel.getActiveTab().getEl().setHeight(tabPanel.getActiveTab().el.dom.clientHeight - 45);",
                    "                                }",
                    "",
                    "                    }",
                    "                }",
                    "        },",
                    "        tabBar: {",
                    "            docked: 'top',",
                    "            html: '<b class=\"caret\" style=\"-webkit-transform: translate3d(34px, 0px, 0px); \"><b class=\"caret_inner\" ></b></b>',",
                    "            itemId: 'mytabbar'",
                    "        }",
                    "    }",
                    "];"
                ]
            },
            "designerId": "98da6111-f8c0-44c2-96a9-c33ab44d3f1e"
        },
        {
            "type": "basiceventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onPlanPanelAfterRender",
                "implHandler": [
                    "",
                    "if ( LanistaTrainer.app.getController ('PlanController').plan.data.public_template == 1 ) {",
                    "    var panelSize = this.down ('tabpanel').getAt (1).getItems ().getCount();",
                    "    this.down ('tabpanel').getAt (1).getAt (panelSize-1).hide();",
                    "}",
                    "",
                    "",
                    ""
                ],
                "name": "afterrender",
                "scope": "me"
            },
            "designerId": "d755c6ca-6554-46b1-9943-83e056bddf31"
        }
    ]
}